
import React from 'react';

const Methodology: React.FC = () => {
    return (
        <div className="bg-white p-6 sm:p-8 rounded-2xl border border-gray-200 animate-fade-in">
            <h2 className="text-2xl font-bold text-gray-900 mb-6 border-b pb-4">
                Как работает наш калькулятор? Методология расчета.
            </h2>
            <div className="text-gray-700 space-y-6">
                <p>
                    Этот калькулятор — не просто сумматор, а интеллектуальный инструмент, использующий предиктивную модель для максимально точного расчета совокупного охвата (Reach %). Весь процесс состоит из трех ключевых этапов:
                </p>

                <div>
                    <h3 className="text-xl font-bold text-gray-800 mb-3">1. Поиск "Цифрового двойника" вашей аудитории</h3>
                    <p className="mb-3">
                        Когда вы вводите параметры своей целевой аудитории (например, "W 25-45 BC"), модель не ищет точное совпадение в своей базе данных. Вместо этого она строит математический "портрет" вашего запроса и ищет в своей обучающей базе (12 "опорных" аудиторий) два наиболее похожих на него "цифровых двойника".
                    </p>
                    <div className="bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-2">
                        <h4 className="font-semibold">Как это работает:</h4>
                        <ul className="list-disc list-inside space-y-2">
                            <li>
                                <strong>Пространство аудиторий:</strong> Модель представляет каждую аудиторию как точку в многомерном пространстве, где осями являются Пол, Возраст и Уровень дохода.
                            </li>
                            <li>
                                <strong>Расчет дистанции:</strong> С помощью формулы Евклидова расстояния она вычисляет "дистанцию" между вашим запросом и каждой из 12 "опорных" точек.
                                <div className="my-2 p-3 bg-gray-200 rounded-md text-sm font-mono text-center">
                                    Дистанция = √ ( (ΔВозраст)² + (ΔПол)² + (ΔДоход)² )
                                </div>
                            </li>
                            <li>
                                <strong>Результат:</strong> Модель находит две аудитории из базы с наименьшей дистанцией. Именно их реальные данные о медиапотреблении станут основой для прогноза. Этот шаг позволяет модели быть гибкой и работать даже с теми ЦА, которых нет в исходной базе.
                            </li>
                        </ul>
                    </div>
                    <p className="mt-3 text-sm text-gray-600">
                        В блоке результатов вы всегда видите, какие две аудитории были выбраны в качестве "источника данных для прогноза".
                    </p>
                </div>

                <div>
                    <h3 className="text-xl font-bold text-gray-800 mb-3">2. Предсказание пересечений (K-коэффициент)</h3>
                    <p className="mb-3">
                        Простое сложение охватов неверно, так как люди потребляют несколько медиа одновременно. Ключ к точному расчету — это определение размера этого пересечения.
                    </p>
                    <div className="bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-2">
                        <h4 className="font-semibold">Как это работает:</h4>
                        <ul className="list-disc list-inside space-y-2">
                            <li>
                                <strong>K-коэффициент:</strong> Для каждой пары медиа в вашем плане (например, ТВ + Интернет) модель рассчитывает уникальный K-коэффициент (коэффициент схожести аудиторий). Он показывает, насколько сильно пересекаются аудитории этих двух каналов именно для вашей ЦА.
                                <ul className="list-['>'] list-inside ml-6 mt-1 text-sm">
                                    <li>K &gt; 1 означает, что аудитории очень похожи, и пересечение будет больше случайного.</li>
                                    <li>K &lt; 1 означает, что аудитории разные, и пересечение меньше случайного.</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Формула прогноза:</strong> K-коэффициент для вашего запроса прогнозируется как взвешенное среднее K-коэффициентов двух найденных "цифровых двойников". Вес зависит от "дистанции": чем ближе "двойник", тем больше его влияние на прогноз.
                                <div className="my-2 p-3 bg-gray-200 rounded-md text-sm font-mono text-center">
                                    K_прогноз = K₁ * Вес₁ + K₂ * Вес₂
                                </div>
                            </li>
                            <li>
                                <strong>Расчет пересечения:</strong> Используя предсказанный K-коэффициент, модель вычисляет размер пересечения для каждой пары в вашем плане.
                                    <div className="my-2 p-3 bg-gray-200 rounded-md text-sm font-mono text-center">
                                    Пересечение(A, B) = Охват(A) * Охват(B) * K_прогноз
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div>
                    <h3 className="text-xl font-bold text-gray-800 mb-3">3. Финальный инкрементальный расчет</h3>
                    <p className="mb-3">
                        Вместо сложной и нестабильной формулы для всего медиаплана сразу, калькулятор использует последовательный (инкрементальный) подход, который точно отражает реальный прирост охвата.
                    </p>
                        <div className="bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-2">
                        <h4 className="font-semibold">Как это работает:</h4>
                        <ul className="list-disc list-inside space-y-2">
                            <li><strong>Сортировка:</strong> Медиаплан сортируется по убыванию индивидуального охвата. Расчет всегда начинается с самого большого канала.</li>
                            <li><strong>Шаг 1:</strong> Совокупный охват = Охват первого канала (например, 85%).</li>
                            <li>
                                <strong>Шаг 2:</strong> Добавляется второй канал. Модель оценивает его пересечение с уже охваченной аудиторией и применяет классическую формулу:
                                <div className="my-2 p-3 bg-gray-200 rounded-md text-sm font-mono text-center">
                                    Новый охват = Охват(Шаг 1) + Охват(Канал 2) - Пересечение(Микс, Канал 2)
                                </div>
                            </li>
                            <li><strong>Следующие шаги:</strong> Процесс повторяется для каждого следующего канала, где новый охват вычисляется на основе совокупного охвата предыдущего шага.</li>
                        </ul>
                        </div>
                        <p className="mt-3 text-sm text-gray-600">
                        Этот метод гарантирует, что совокупный охват всегда логично растет (или остается на месте, если новый канал не добавляет уникальной аудитории) и никогда не падает. Результаты этого пошагового расчета вы видите в таблице "Анализ инкрементального охвата".
                        </p>
                </div>
            </div>
        </div>
    );
};

export default Methodology;